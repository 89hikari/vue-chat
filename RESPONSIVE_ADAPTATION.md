# Адаптация под мобильные устройства

## Выполненные изменения

### 1. Создан useResponsiveLayout composable

- Расположение: `src/composables/useResponsiveLayout.ts`
- Функциональность:
  - Определение размера экрана (мобильный/десктоп)
  - Управление видимостью панелей на мобильных
  - Переключение между списком чатов и окном чата
  - Автоматическое реагирование на изменение размера окна

### 2. Адаптирован MainPage.vue

- Добавлен composable для управления видимостью панелей
- На мобильных: отображается либо список чатов, либо окно чата
- На десктопе: обе панели видны одновременно
- Убран `flex-col md:flex-row` в пользу динамического управления через `v-show`

### 3. Обновлен LeftPanel.vue

- Изменена ширина панели с процентной на фиксированную:
  - md: 320px (80)
  - lg: 384px (96)
  - xl: 400px
- Панель занимает всю ширину на мобильных

### 4. Обновлен TheChatview.vue

- Убрана процентная ширина, теперь занимает все доступное пространство
- Адаптивные отступы: `px-3 sm:px-4 md:px-10`
- Адаптивные размеры padding для textarea

### 5. Добавлена кнопка "Назад" в TheChatview/TheHeader.vue

- Видна только на мобильных устройствах
- Возвращает пользователя к списку чатов
- Адаптивные размеры шрифтов: `text-base sm:text-lg`

### 6. Обновлен TheChat.vue

- При клике на чат на мобильных происходит переход к окну чата
- Использует injected layout context из MainPage

### 7. Адаптированы отступы

- TheHeader (left-panel): `px-2 sm:px-3`
- TheHeader (chatview): `px-3 sm:px-4 md:px-6`
- TheMessage: `px-3 sm:px-4 md:px-6`

### 8. Оптимизированы модальные окна (AppModal)

- На мобильных: полноэкранный режим
- На десктопе: центрированное окно с максимальной шириной 520px
- Добавлен медиа-запрос в `main.scss`

### 9. Настроены Tailwind breakpoints

- xs: 320px
- sm: 640px
- md: 768px (граница mobile/desktop)
- lg: 1024px
- xl: 1280px
- 2xl: 1536px

### 10. Адаптированы формы авторизации/регистрации

- Адаптивные размеры шрифтов заголовков: `text-2xl sm:text-3xl md:text-4xl`
- Адаптивный padding: `p-4 sm:p-6 md:p-8`
- Адаптивные отступы: `mx-3 sm:mx-5`
- Единообразный стиль для обеих форм с космической темой

## Как это работает

### На мобильных устройствах (< 768px):

1. При загрузке показывается список чатов
2. При клике на чат происходит переход к окну чата
3. Кнопка "Назад" возвращает к списку чатов
4. Модальные окна открываются на весь экран

### На планшетах и десктопах (>= 768px):

1. Левая панель фиксированной ширины (320-400px)
2. Окно чата занимает оставшееся пространство
3. Обе панели видны одновременно
4. Модальные окна центрированы с ограниченной шириной

## Тестирование

Рекомендуется протестировать на следующих разрешениях:

- 320px (мобильные, портрет)
- 375px (iPhone)
- 414px (большие смартфоны)
- 768px (iPad, портрет)
- 1024px (iPad, ландшафт)
- 1280px+ (десктоп)

## Дальнейшие улучшения (опционально)

1. Добавить swipe-жесты для переключения между панелями на мобильных
2. Добавить анимации при переключении панелей
3. Сохранять состояние выбранного чата при переключении между панелями
4. Оптимизировать производительность на старых мобильных устройствах
5. Добавить PWA поддержку для установки как приложение
